(this["webpackJsonpballoon-experiment"]=this["webpackJsonpballoon-experiment"]||[]).push([[0],{262:function(t,e,n){},263:function(t,e,n){},462:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),s=n(38),r=n.n(s),o=(n(262),n(263),n(25)),l=n(8),c=n.p+"static/media/coins.5c18221c.png",h=n.p+"static/media/coinsdown.a8674044.png",u=n(505),d=n(34),g=n(509),m=n(503),x=n(510),f=n(506),b=n(511),p=n(508),y=n(15),j=n(44),v=Object(j.c)({name:"gameData",initialState:{money:0,trialNumber:1,balloonValues:[],balloonSpeed:[],hiddenCurrValue:0,hiddenCurrSpeed:0,lastClickedMul:0,timerProgress:0,gameOver:!1,_numAbberations:0,_numDangerzone:0,_dangerZoneSpeedReset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_dangerZoneResetCalc:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},reducers:{endGame:function(t){t.gameOver=!0},resetTimer:function(t){t.timerProgress=0},incrementTimer:function(t,e){t.timerProgress>=100||(t.timerProgress+=e.payload)},setLastClickedMul:function(t,e){t.lastClickedMul=e.payload},addMoney:function(t,e){t.money+=e.payload},nextTrial:function(t){t.trialNumber++},resetGame:function(t,e){t._numAbberations=0,t._numDangerzone=0,t._dangerZoneSpeedReset=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t._dangerZoneResetCalc=["0.00",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var n=100*O(e.payload.dangerZoneChance),i=100*O(e.payload.aberrationChance),a=O(e.payload.lambda),s=1,r=1;r<10;r++){var o=(1-Math.exp(-r*a))*s;s-=o,t._dangerZoneResetCalc[r]=o.toFixed(2)}for(var l=e.payload.delta,c=[],h=[],u=!0,d=2,g=0,m=1,x=0;x<2*e.payload.numberOfTrials&&!(c.length>=e.payload.numberOfTrials);x++){u&&(u=!1);var f=100*Math.random();if(0===g){if(f<=n){g+=l,h.push(g),c.push(d),t._numDangerzone++;continue}if(f<=i+n){c.push(-1*d),c.push(d),h.push(g),h.push(g),u=!0,t._numAbberations++;continue}c.push(d),h.push(g)}else{f<=100*(1-Math.exp(-m*a))?(t._dangerZoneSpeedReset[m]++,m=1,d*=-1,c.push(d),g=0,h.push(g),u=!0):(m+=1,g+=l,c.push(d),h.push(g))}}t.money=0,t.trialNumber=1,t.balloonValues=c,t.balloonSpeed=h,t.hiddenCurrValue=0,t.hiddenCurrSpeed=0,t.lastClickedMul=0,t.timerProgress=0,t.gameOver=!1}}});function O(t){var e=t.split("/");return e[0]/e[1]}var S,A,w,k=v.actions,T=k.addMoney,R=k.nextTrial,C=k.resetGame,F=k.setLastClickedMul,D=k.incrementTimer,Y=k.resetTimer,X=k.endGame,M=function(t){return t.gameData.money},I=function(t){return t.gameData.trialNumber},N=function(t){return t.gameData.balloonValues},W=function(t){return t.gameData.balloonSpeed},z=function(t){return t.gameData.lastClickedMul},B=function(t){return t.gameData.timerProgress},V=function(t){return t.gameData.gameOver},P=v.reducer,E=Object(j.c)({name:"gameSetting",initialState:{dangerZoneChance:"1/6",aberrationChance:"1/6",costToSwitch:6,outcomeShowTime:2,afkTimeout:4,afkTimeoutCost:1,numberOfTrials:400,thresholdValue:100,lambda:"1/3",delta:1},reducers:{submitSettings:function(t,e){t.dangerZoneChance=e.payload.dangerZoneChance,t.aberrationChance=e.payload.aberrationChance,t.costToSwitch=e.payload.costToSwitch,t.outcomeShowTime=e.payload.outcomeShowTime,t.afkTimeout=e.payload.afkTimeout,t.afkTimeoutCost=e.payload.afkTimeoutCost,t.numberOfTrials=e.payload.numberOfTrials,t.thresholdValue=e.payload.thresholdValue,t.lambda=e.payload.lambda,t.delta=e.payload.delta}}}),L=E.actions.submitSettings,U=function(t){return t.gameSetting.costToSwitch},G=function(t){return t.gameSetting.outcomeShowTime},Z=function(t){return t.gameSetting.afkTimeout},q=function(t){return t.gameSetting.afkTimeoutCost},J=function(t){return t.gameSetting.numberOfTrials},K=function(t){return t.gameSetting.thresholdValue},H=E.reducer,Q=n(1),_=480,$="brightness(120%) contrast(150%) drop-shadow(0px 0px 7px rgba(0,128,128,1.0)",tt=Object(d.a)(u.a.img)(S||(S=Object(o.a)(["\n    border-radius: 3px;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    height: ",";\n    margin-botton: ",";\n    margin-top: ",";\n    -webkit-filter: ",");\n    filter: ",");\n"])),"96px",_/84+"px",_/84+"px",(function(t){return t.lastBalloon?$:""}),(function(t){return t.lastBalloon?$:""})),et=Object(d.a)(u.a.img)(A||(A=Object(o.a)(["\n    visibility: hidden;\n    background: transparent;\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n    height: ",";\n    margin-botton: ",";\n    margin-top: ",";\n"])),_/17+"px",_/84+"px",_/84+"px"),nt=Object(d.a)(u.a.div)(w||(w=Object(o.a)(["\n    // border: black 1px solid;\n    height: 100%;\n"])));function it(){var t=Object(y.b)(),e=(Object(y.c)(M),Object(y.c)(G)),n=Object(y.c)(Z),a=Object(y.c)(N),s=Object(y.c)(B),r=Object(y.c)(J),o=Object(y.c)((function(t){return t.gameSetting})),c=Object(y.c)(q),h=Object(y.c)(U),u=Object(y.c)(I),d=Object(i.useState)(0),m=Object(l.a)(d,2),x=m[0],f=m[1],b=Object(i.useState)(!1),p=Object(l.a)(b,2),j=p[0],v=p[1],O=Object(i.useState)(!1),S=Object(l.a)(O,2),A=S[0],w=S[1],k=Object(i.useState)(0),W=Object(l.a)(k,2),z=W[0],V=W[1],P=Object(i.useRef)(null),E=function(){t(Y()),clearInterval(P.current)},L=function(){t(R()),K()},K=function(){E(),clearInterval(P.current),P.current=setInterval((function(){t(D(.5))}),5*n)};return Object(i.useEffect)((function(){E(),w(!1),v(!1),f(0)}),[]),Object(i.useEffect)((function(){u>=r&&(w(!0),E(),P.current=setTimeout((function(){t(X())}),1e3*e)),!A&&s>=100&&(E(),t(T(-c)),v(!0),P.current=setTimeout((function(){v(!1),L()}),1e3*e))}),[s,E,t,c,e,K,L,r,u]),Object(i.useEffect)((function(){return t(C(o)),function(){clearInterval(P.current)}}),[t,o]),Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(g.a,{container:!0,children:[Object(Q.jsx)(g.a,{item:!0,xs:7,children:Object(Q.jsx)(st,{showOutcome:A,missedTrial:j,lastMultiplier:x,clickedAction:function(n){var i=a[u]*n;V(i),x*n<0&&(i-=h),t(T(i)),t(F(n)),w(0!==n),f(n),E(),0===n?L():P.current=setTimeout((function(){w(!1),L()}),1e3*e)}})}),Object(Q.jsx)(g.a,{item:!0,xs:5,children:Object(Q.jsx)(at,{missedTrial:j,showOutcome:A,lastOutcomeDollars:z})})]})})}function at(t){var e=t.missedTrial,n=t.showOutcome,i=t.lastOutcomeDollars,a=Object(y.c)(q),s=Object(y.c)(I);return e?Object(Q.jsx)(m.a,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",alignContent:"center",children:Object(Q.jsxs)("h2",{children:["Missed trial, you lost $",a,"!"]})}):Object(Q.jsx)(Q.Fragment,{children:n&&s>=1&&Object(Q.jsx)(nt,{variants:{left:{opacity:[0,1]},right:{opacity:[1,0,1]},hidden:{opacity:0}},animate:s%2===0?"left":"right",children:Object(Q.jsxs)(m.a,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",alignContent:"center",children:[i<0?Object(Q.jsx)("h3",{children:"You just lost $"+Math.abs(i)}):Object(Q.jsx)("h3",{children:"You just won $"+i}),Object(Q.jsx)("img",{src:i<0?h:c,alt:"coins"})]})})})}function st(t){var e=t.showOutcome,n=t.missedTrial,i=t.lastMultiplier,a=t.clickedAction,s=Object(y.c)(U),r=Object(y.c)(z),o={hover:{scale:1.3,transition:{yoyo:1/0}},top:{y:0,transition:{duration:5,ease:"linear"}},idle:{y:Math.random(),x:Math.random(),transition:{yoyo:1/0}}};return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(g.a,{style:e||n?{filter:"grayscale(100%)",pointerEvents:"none"}:{},container:!0,direction:"row",alignItems:"center",children:[[2,1,0,0,-1,-2].map((function(t,e){return 0!==t?Object(Q.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(Q.jsx)(g.a,{item:!0,xs:6,children:Object(Q.jsx)(x.a,{variant:"h4",align:"right",children:Object(Q.jsxs)("b",{children:[t,"  \u2014"]})})}),Object(Q.jsx)(g.a,{item:!0,xs:6,children:Object(Q.jsx)(f.a,{title:i*t<0?Object(Q.jsx)("h2",{children:"Changing screen costs $"+s}):"",children:Object(Q.jsx)(tt,{lastBalloon:r===t,variants:o,whileHover:"hover",animate:{y:5*Math.random(),x:5*Math.random(),transition:{yoyo:1/0,duration:3*Math.random()+1}},src:"data:image/png;base64,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",alt:"balloon",onClick:function(){a(t)}})})})]},e):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(g.a,{item:!0,xs:6,children:Object(Q.jsx)(et,{})}),Object(Q.jsx)(g.a,{item:!0,xs:6,children:Object(Q.jsx)(et,{})})]})})),Object(Q.jsx)(g.a,{item:!0,xs:12,children:Object(Q.jsx)(b.a,{display:"flex",justifyContent:"center",children:Object(Q.jsx)(p.a,{variant:"contained",style:{backgroundColor:"#00A8F3",padding:"8px 15px",fontSize:"18px",color:"black"},onClick:function(){a(0)},children:"Pass"})})})]})})}var rt=n(153);function ot(){var t=Object(y.c)(I),e=Object(y.c)(N),n=Object(y.c)(W),i=Array.from({length:0+t},(function(t,e){return e+1})),a={labels:i,datasets:[{label:"Value history",data:e,fill:!1,backgroundColor:"rgb(14,133,255)",borderColor:"rgba(99,104,255,0.2)"}]},s={labels:i,datasets:[{label:"Speed history",data:n,fill:!1,backgroundColor:"rgb(141,168,181)",borderColor:"rgba(99,104,255,0.2)"}]};return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(m.a,{height:"100%",children:[Object(Q.jsx)(rt.a,{data:a,options:{aspectRatio:3.5,animation:{duration:0},scales:{y:{grid:{display:!1},ticks:{beginAtZero:!0,major:!0,callback:function(t,e,n){return 2===t||-2===t?"$"+t:""}},suggestedMax:2,suggestedMin:-2}}}}),Object(Q.jsx)(rt.a,{style:{paddingLeft:"25px"},data:s,options:{aspectRatio:3.5,animation:{duration:0},scales:{y:{display:!1,ticks:{beginAtZero:!0},suggestedMax:20}}}})]})})}var lt=n(512);function ct(){var t=Object(y.c)(B);return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(lt.a,{className:"instant",style:{width:"100%"},variant:"determinate",value:t,color:t>=55?"secondary":"primary"})})}var ht=n(11),ut=n(9),dt=n(250),gt=function(){function t(e,n){Object(ht.a)(this,t);var i={canvasId:"canvas",centerX:null,centerY:null,outerRadius:null,innerRadius:0,numSegments:1,drawMode:"code",rotationAngle:0,textFontFamily:"arial",textFontSize:13,textFontWeight:"bold",textOrientation:"horizontal",textAlignment:"center",textDirection:"normal",textMargin:null,textFillStyle:"black",textStrokeStyle:null,textLineWidth:1,fillStyle:"silver",strokeStyle:null,lineWidth:1,clearTheCanvas:!0,imageOverlay:!1,drawText:!0,pointerAngle:90,wheelImage:null,imageDirection:"N"};for(var a in i)null!=e&&"undefined"!==typeof e[a]?this[a]=e[a]:this[a]=i[a];if(null!=e)for(var s in e)"undefined"===typeof this[s]&&(this[s]=e[s]);this.canvasId?(this.canvas=document.getElementById(this.canvasId),this.canvas?(null===this.centerX&&(this.centerX=this.canvas.width/2),null===this.centerY&&(this.centerY=this.canvas.height/2),null===this.outerRadius&&(this.canvas.width<this.canvas.height?this.outerRadius=this.canvas.width/2-this.lineWidth:this.outerRadius=this.canvas.height/2-this.lineWidth),this.ctx=this.canvas.getContext("2d")):(this.canvas=null,this.ctx=null)):(this.cavnas=null,this.ctx=null),this.segments=new Array(null);for(var r=1;r<=this.numSegments;r++)null!=e&&e.segments&&"undefined"!==typeof e.segments[r-1]?this.segments[r]=new ft(e.segments[r-1]):this.segments[r]=new ft;if(this.updateSegmentSizes(),null===this.textMargin&&(this.textMargin=this.textFontSize/1.7),null!=e&&e.animation&&"undefined"!==typeof e.animation?this.animation=new xt(e.animation):this.animation=new xt,null!=e&&e.pins&&"undefined"!==typeof e.pins&&(this.pins=new mt(e.pins)),"image"===this.drawMode||"segmentImage"===this.drawMode?("undefined"===typeof e.fillStyle&&(this.fillStyle=null),"undefined"===typeof e.strokeStyle&&(this.strokeStyle="red"),"undefined"===typeof e.drawText&&(this.drawText=!1),"undefined"===typeof e.lineWidth&&(this.lineWidth=1),"undefined"===typeof n&&(n=!1)):"undefined"===typeof n&&(n=!0),null!=e&&e.pointerGuide&&"undefined"!==typeof e.pointerGuide?this.pointerGuide=new bt(e.pointerGuide):this.pointerGuide=new bt,!0===n)this.draw(this.clearTheCanvas);else if("segmentImage"===this.drawMode){yt=this,vt=!1;for(var o=1;o<=this.numSegments;o++)null!==this.segments[o].image&&(this.segments[o].imgData=new Image,this.segments[o].imgData.onload=Ot,this.segments[o].imgData.src=this.segments[o].image)}}return Object(ut.a)(t,[{key:"updateSegmentSizes",value:function(){if(this.segments){for(var t=0,e=0,n=1;n<=this.numSegments;n++)null!==this.segments[n].size&&(t+=this.segments[n].size,e++);var i=360-t,a=0;i>0&&(a=i/(this.numSegments-e));for(var s=0,r=1;r<=this.numSegments;r++)this.segments[r].startAngle=s,this.segments[r].size?s+=this.segments[r].size:s+=a,this.segments[r].endAngle=s}}},{key:"clearCanvas",value:function(){this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"draw",value:function(t){this.ctx&&("undefined"!==typeof t?!0===t&&this.clearCanvas():this.clearCanvas(),"image"===this.drawMode?(this.drawWheelImage(),!0===this.drawText&&this.drawSegmentText(),!0===this.imageOverlay&&this.drawSegments()):"segmentImage"===this.drawMode?(this.drawSegmentImages(),!0===this.drawText&&this.drawSegmentText(),!0===this.imageOverlay&&this.drawSegments()):(this.drawSegments(),!0===this.drawText&&this.drawSegmentText()),"undefined"!==typeof this.pins&&!0===this.pins.visible&&this.drawPins(),!0===this.pointerGuide.display&&this.drawPointerGuide())}},{key:"drawPins",value:function(){if(this.pins&&this.pins.number)for(var t=360/this.pins.number,e=1;e<=this.pins.number;e++)this.ctx.save(),this.ctx.strokeStyle=this.pins.strokeStyle,this.ctx.lineWidth=this.pins.lineWidth,this.ctx.fillStyle=this.pins.fillStyle,this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(e*t+this.rotationAngle)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY-this.outerRadius+this.pins.outerRadius+this.pins.margin,this.pins.outerRadius,0,2*Math.PI),this.pins.fillStyle&&this.ctx.fill(),this.pins.strokeStyle&&this.ctx.stroke(),this.ctx.restore()}},{key:"drawPointerGuide",value:function(){this.ctx&&(this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(this.pointerAngle)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.strokeStyle=this.pointerGuide.strokeStyle,this.ctx.lineWidth=this.pointerGuide.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.centerX,this.centerY),this.ctx.lineTo(this.centerX,-this.outerRadius/4),this.ctx.stroke(),this.ctx.restore())}},{key:"drawWheelImage",value:function(){if(null!=this.wheelImage){var t=this.centerX-this.wheelImage.height/2,e=this.centerY-this.wheelImage.width/2;this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(this.rotationAngle)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.drawImage(this.wheelImage,t,e),this.ctx.restore()}}},{key:"drawSegmentImages",value:function(){if(this.ctx&&this.segments)for(var t=1;t<=this.numSegments;t++){var e=this.segments[t];if(e.imgData.height){var n=0,i=0,a=0,s="";"S"===(s=null!==e.imageDirection?e.imageDirection:this.imageDirection)?(n=this.centerX-e.imgData.width/2,i=this.centerY,a=e.startAngle+180+(e.endAngle-e.startAngle)/2):"E"===s?(n=this.centerX,i=this.centerY-e.imgData.height/2,a=e.startAngle+270+(e.endAngle-e.startAngle)/2):"W"===s?(n=this.centerX-e.imgData.width,i=this.centerY-e.imgData.height/2,a=e.startAngle+90+(e.endAngle-e.startAngle)/2):(n=this.centerX-e.imgData.width/2,i=this.centerY-e.imgData.height,a=e.startAngle+(e.endAngle-e.startAngle)/2),this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(this.rotationAngle+a)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.drawImage(e.imgData,n,i),this.ctx.restore()}else console.log("Segment "+t+" imgData is not loaded")}}},{key:"drawSegments",value:function(){if(this.ctx&&this.segments)for(var t=1;t<=this.numSegments;t++){var e,n,i,a=this.segments[t];e=null!==a.fillStyle?a.fillStyle:this.fillStyle,this.ctx.fillStyle=e,n=null!==a.lineWidth?a.lineWidth:this.lineWidth,this.ctx.lineWidth=n,i=null!==a.strokeStyle?a.strokeStyle:this.strokeStyle,this.ctx.strokeStyle=i,(i||e)&&(this.ctx.beginPath(),this.innerRadius||this.ctx.moveTo(this.centerX,this.centerY),this.ctx.arc(this.centerX,this.centerY,this.outerRadius,this.degToRad(a.startAngle+this.rotationAngle-90),this.degToRad(a.endAngle+this.rotationAngle-90),!1),this.innerRadius?this.ctx.arc(this.centerX,this.centerY,this.innerRadius,this.degToRad(a.endAngle+this.rotationAngle-90),this.degToRad(a.startAngle+this.rotationAngle-90),!0):this.ctx.lineTo(this.centerX,this.centerY),e&&this.ctx.fill(),i&&this.ctx.stroke())}}},{key:"drawSegmentText",value:function(){if(this.ctx)for(var t,e,n,i,a,s,r,o,l,c,h,u=1;u<=this.numSegments;u++){this.ctx.save();var d=this.segments[u];if(d.text){t=null!==d.textFontFamily?d.textFontFamily:this.textFontFamily,e=null!==d.textFontSize?d.textFontSize:this.textFontSize,n=null!==d.textFontWeight?d.textFontWeight:this.textFontWeight,i=null!==d.textOrientation?d.textOrientation:this.textOrientation,a=null!==d.textAlignment?d.textAlignment:this.textAlignment,s=null!==d.textDirection?d.textDirection:this.textDirection,r=null!==d.textMargin?d.textMargin:this.textMargin,o=null!==d.textFillStyle?d.textFillStyle:this.textFillStyle,l=null!==d.textStrokeStyle?d.textStrokeStyle:this.textStrokeStyle,c=null!==d.textLineWidth?d.textLineWidth:this.textLineWidth,h="",null!=n&&(h+=n+" "),null!=e&&(h+=e+"px "),null!=t&&(h+=t),this.ctx.font=h,this.ctx.fillStyle=o,this.ctx.strokeStyle=l,this.ctx.lineWidth=c;var g=d.text.split("\n"),m=0-e*(g.length/2)+e/2;"curved"!==i||"inner"!==a&&"outer"!==a||(m=0);for(var x=0;x<g.length;x++){if("reversed"===s){if("horizontal"===i){this.ctx.textAlign="inner"===a?"right":"outer"===a?"left":"center",this.ctx.textBaseline="middle";var f=this.degToRad(d.endAngle-(d.endAngle-d.startAngle)/2+this.rotationAngle-90-180);this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(f),this.ctx.translate(-this.centerX,-this.centerY),"inner"===a?(o&&this.ctx.fillText(g[x],this.centerX-this.innerRadius-r,this.centerY+m),l&&this.ctx.strokeText(g[x],this.centerX-this.innerRadius-r,this.centerY+m)):"outer"===a?(o&&this.ctx.fillText(g[x],this.centerX-this.outerRadius+r,this.centerY+m),l&&this.ctx.strokeText(g[x],this.centerX-this.outerRadius+r,this.centerY+m)):(o&&this.ctx.fillText(g[x],this.centerX-this.innerRadius-(this.outerRadius-this.innerRadius)/2-r,this.centerY+m),l&&this.ctx.strokeText(g[x],this.centerX-this.innerRadius-(this.outerRadius-this.innerRadius)/2-r,this.centerY+m)),this.ctx.restore()}else if("vertical"===i){this.ctx.textAlign="center",this.ctx.textBaseline="inner"===a?"top":"outer"===a?"bottom":"middle";var b=d.endAngle-(d.endAngle-d.startAngle)/2-180;if(b+=this.rotationAngle,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(b)),this.ctx.translate(-this.centerX,-this.centerY),"outer"===a)var p=this.centerY+this.outerRadius-r;else"inner"===a&&(p=this.centerY+this.innerRadius+r);var y=e-e/9;if("outer"===a)for(var j=g[x].length-1;j>=0;j--){var v=g[x].charAt(j);o&&this.ctx.fillText(v,this.centerX+m,p),l&&this.ctx.strokeText(v,this.centerX+m,p),p-=y}else if("inner"===a)for(var O=0;O<g[x].length;O++){var S=g[x].charAt(O);o&&this.ctx.fillText(S,this.centerX+m,p),l&&this.ctx.strokeText(S,this.centerX+m,p),p+=y}else if("center"===a){var A=0;g[x].length>1&&(A=y*(g[x].length-1)/2),p=this.centerY+this.innerRadius+(this.outerRadius-this.innerRadius)/2+A+r;for(var w=g[x].length-1;w>=0;w--){var k=g[x].charAt(w);o&&this.ctx.fillText(k,this.centerX+m,p),l&&this.ctx.strokeText(k,this.centerX+m,p),p-=y}}this.ctx.restore()}else if("curved"===i){var T=0;"inner"===a?(T=this.innerRadius+r,this.ctx.textBaseline="top"):"outer"===a?(T=this.outerRadius-r,this.ctx.textBaseline="bottom",T-=e*(g.length-1)):"center"===a&&(T=this.innerRadius+r+(this.outerRadius-this.innerRadius)/2,this.ctx.textBaseline="middle");var R=0,C=0;if(g[x].length>1){this.ctx.textAlign="left",R=e/10*4;var F=(R*=100/T)*g[x].length;C=d.startAngle+((d.endAngle-d.startAngle)/2-F/2)}else C=d.startAngle+(d.endAngle-d.startAngle)/2,this.ctx.textAlign="center";for(C+=this.rotationAngle,C-=180,j=g[x].length;j>=0;j--){this.ctx.save();var D=g[x].charAt(j);this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(C)),this.ctx.translate(-this.centerX,-this.centerY),l&&this.ctx.strokeText(D,this.centerX,this.centerY+T+m),o&&this.ctx.fillText(D,this.centerX,this.centerY+T+m),C+=R,this.ctx.restore()}}}else if("horizontal"===i){this.ctx.textAlign="inner"===a?"left":"outer"===a?"right":"center",this.ctx.textBaseline="middle";var Y=this.degToRad(d.endAngle-(d.endAngle-d.startAngle)/2+this.rotationAngle-90);this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(Y),this.ctx.translate(-this.centerX,-this.centerY),"inner"===a?(o&&this.ctx.fillText(g[x],this.centerX+this.innerRadius+r,this.centerY+m),l&&this.ctx.strokeText(g[x],this.centerX+this.innerRadius+r,this.centerY+m)):"outer"===a?(o&&this.ctx.fillText(g[x],this.centerX+this.outerRadius-r,this.centerY+m),l&&this.ctx.strokeText(g[x],this.centerX+this.outerRadius-r,this.centerY+m)):(o&&this.ctx.fillText(g[x],this.centerX+this.innerRadius+(this.outerRadius-this.innerRadius)/2+r,this.centerY+m),l&&this.ctx.strokeText(g[x],this.centerX+this.innerRadius+(this.outerRadius-this.innerRadius)/2+r,this.centerY+m)),this.ctx.restore()}else if("vertical"===i){if(this.ctx.textAlign="center",this.ctx.textBaseline="inner"===a?"bottom":"outer"===a?"top":"middle",Y=d.endAngle-(d.endAngle-d.startAngle)/2,Y+=this.rotationAngle,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(Y)),this.ctx.translate(-this.centerX,-this.centerY),"outer"===a?p=this.centerY-this.outerRadius+r:"inner"===a&&(p=this.centerY-this.innerRadius-r),y=e-e/9,"outer"===a)for(var X=0;X<g[x].length;X++){var M=g[x].charAt(X);o&&this.ctx.fillText(M,this.centerX+m,p),l&&this.ctx.strokeText(M,this.centerX+m,p),p+=y}else if("inner"===a)for(var I=g[x].length-1;I>=0;I--){var N=g[x].charAt(I);o&&this.ctx.fillText(N,this.centerX+m,p),l&&this.ctx.strokeText(N,this.centerX+m,p),p-=y}else if("center"===a){A=0,g[x].length>1&&(A=y*(g[x].length-1)/2),p=this.centerY-this.innerRadius-(this.outerRadius-this.innerRadius)/2-A-r;for(var W=0;W<g[x].length;W++){var z=g[x].charAt(W);o&&this.ctx.fillText(z,this.centerX+m,p),l&&this.ctx.strokeText(z,this.centerX+m,p),p+=y}}this.ctx.restore()}else if("curved"===i){if(T=0,"inner"===a?(T=this.innerRadius+r,this.ctx.textBaseline="bottom",T+=e*(g.length-1)):"outer"===a?(T=this.outerRadius-r,this.ctx.textBaseline="top"):"center"===a&&(T=this.innerRadius+r+(this.outerRadius-this.innerRadius)/2,this.ctx.textBaseline="middle"),R=0,C=0,g[x].length>1){this.ctx.textAlign="left",R=e/10*4;var B=(R*=100/T)*g[x].length;C=d.startAngle+((d.endAngle-d.startAngle)/2-B/2)}else C=d.startAngle+(d.endAngle-d.startAngle)/2,this.ctx.textAlign="center";for(C+=this.rotationAngle,j=0;j<g[x].length;j++){this.ctx.save();var V=g[x].charAt(j);this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(C)),this.ctx.translate(-this.centerX,-this.centerY),l&&this.ctx.strokeText(V,this.centerX,this.centerY-T+m),o&&this.ctx.fillText(V,this.centerX,this.centerY-T+m),C+=R,this.ctx.restore()}}m+=e}}this.ctx.restore()}}},{key:"degToRad",value:function(t){return.017453292519943295*t}},{key:"setCenter",value:function(t,e){this.centerX=t,this.centerY=e}},{key:"addSegment",value:function(t,e){var n,i=new ft(t);if(this.numSegments++,"undefined"!==typeof e){for(var a=this.numSegments;a>e;a--)this.segments[a]=this.segments[a-1];this.segments[e]=i,n=e}else this.segments[this.numSegments]=i,n=this.numSegments;return this.updateSegmentSizes(),this.segments[n]}},{key:"setCanvasId",value:function(t){t?(this.canvasId=t,this.canvas=document.getElementById(this.canvasId),this.canvas&&(this.ctx=this.canvas.getContext("2d"))):(this.canvasId=null,this.ctx=null,this.canvas=null)}},{key:"deleteSegment",value:function(t){if(this.numSegments>1){if("undefined"!==typeof t)for(var e=t;e<this.numSegments;e++)this.segments[e]=this.segments[e+1];this.segments[this.numSegments]=void 0,this.numSegments--,this.updateSegmentSizes()}}},{key:"windowToCanvas",value:function(t,e){var n=this.canvas.getBoundingClientRect();return{x:Math.floor(t-n.left*(this.canvas.width/n.width)),y:Math.floor(e-n.top*(this.canvas.height/n.height))}}},{key:"getSegmentAt",value:function(t,e){var n=null,i=this.getSegmentNumberAt(t,e);return null!==i&&(n=this.segments[i]),n}},{key:"getSegmentNumberAt",value:function(t,e){var n,i,a,s,r,o=this.windowToCanvas(t,e);o.x>this.centerX?(a=o.x-this.centerX,i="R"):(a=this.centerX-o.x,i="L"),o.y>this.centerY?(s=o.y-this.centerY,n="B"):(s=this.centerY-o.y,n="T");var l=s/a,c=180*Math.atan(l)/Math.PI,h=0;(r=Math.sqrt(s*s+a*a),"T"===n&&"R"===i?h=Math.round(90-c):"B"===n&&"R"===i?h=Math.round(c+90):"B"===n&&"L"===i?h=Math.round(90-c+180):"T"===n&&"L"===i&&(h=Math.round(c+270)),0!==this.rotationAngle)&&((h-=this.getRotationPosition())<0&&(h=360-Math.abs(h)));for(var u=null,d=1;d<=this.numSegments;d++)if(h>=this.segments[d].startAngle&&h<=this.segments[d].endAngle&&r>=this.innerRadius&&r<=this.outerRadius){u=d;break}return u}},{key:"getIndicatedSegment",value:function(){var t=this.getIndicatedSegmentNumber();return this.segments[t]}},{key:"getIndicatedSegmentNumber",value:function(){var t=0,e=this.getRotationPosition(),n=Math.floor(this.pointerAngle-e);n<0&&(n=360-Math.abs(n));for(var i=1;i<this.segments.length;i++)if(n>=this.segments[i].startAngle&&n<=this.segments[i].endAngle){t=i;break}return t}},{key:"getCurrentPinNumber",value:function(){var t=0;if(this.pins){var e=this.getRotationPosition(),n=Math.floor(this.pointerAngle-e);n<0&&(n=360-Math.abs(n));for(var i=360/this.pins.number,a=0,s=0;s<this.pins.number;s++){if(n>=a&&n<=a+i){t=s;break}a+=i}"clockwise"===this.animation.direction&&++t>this.pins.number&&(t=0)}return t}},{key:"getRotationPosition",value:function(){var t=this.rotationAngle;if(t>=0){if(t>360){var e=Math.floor(t/360);t-=360*e}}else t<-360&&(t-=360*(e=Math.ceil(t/360))),t=360+t;return t}},{key:"startAnimation",value:function(){if(this.animation){this.computeAnimation(),yt=this;var t=new Array(null);t[this.animation.propertyName]=this.animation.propertyValue,t.yoyo=this.animation.yoyo,t.repeat=this.animation.repeat,t.ease=this.animation.easing,t.onUpdate=pt,t.onComplete=jt,this.tween=dt.a.to(this,this.animation.duration,t)}}},{key:"stopAnimation",value:function(t){yt&&(yt.tween.kill(),jt(t)),yt=this}},{key:"pauseAnimation",value:function(){this.tween&&this.tween.pause()}},{key:"resumeAnimation",value:function(){this.tween&&this.tween.play()}},{key:"computeAnimation",value:function(){this.animation&&("spinOngoing"===this.animation.type?(this.animation.propertyName="rotationAngle",null===this.animation.spins&&(this.animation.spins=5),null===this.animation.repeat&&(this.animation.repeat=-1),null===this.animation.easing&&(this.animation.easing="Linear.easeNone"),null===this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction&&(this.animation.propertyValue=0-this.animation.propertyValue)):"spinToStop"===this.animation.type?(this.animation.propertyName="rotationAngle",null===this.animation.spins&&(this.animation.spins=5),null===this.animation.repeat&&(this.animation.repeat=0),null===this.animation.easing&&(this.animation.easing="Power3.easeOut"),null===this.animation.stopAngle?this.animation._stopAngle=Math.floor(359*Math.random()):this.animation._stopAngle=360-this.animation.stopAngle+this.pointerAngle,null===this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):"spinAndBack"===this.animation.type?(this.animation.propertyName="rotationAngle",null===this.animation.spins&&(this.animation.spins=5),null===this.animation.repeat&&(this.animation.repeat=1),null===this.animation.easing&&(this.animation.easing="Power2.easeInOut"),null===this.animation.yoyo&&(this.animation.yoyo=!0),null===this.animation.stopAngle?this.animation._stopAngle=0:this.animation._stopAngle=360-this.animation.stopAngle,this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):this.animation.type)}},{key:"getRandomForSegment",value:function(t){var e=0;if(t)if("undefined"!==typeof this.segments[t]){var n=this.segments[t].startAngle,i=this.segments[t].endAngle-n-2;i>0?e=n+1+Math.floor(Math.random()*i):console.log("Segment size is too small to safely get random angle inside it")}else console.log("Segment "+t+" undefined");else console.log("Segment number not specified");return e}}]),t}(),mt=Object(ut.a)((function t(e){Object(ht.a)(this,t);var n={visible:!0,number:36,outerRadius:3,fillStyle:"grey",strokeStyle:"black",lineWidth:1,margin:3};for(var i in n)null!=e&&"undefined"!==typeof e[i]?this[i]=e[i]:this[i]=n[i];if(null!=e)for(var a in e)"undefined"===typeof this[a]&&(this[a]=e[a])})),xt=Object(ut.a)((function t(e){Object(ht.a)(this,t);var n={type:"spinOngoing",direction:"clockwise",propertyName:null,propertyValue:null,duration:10,yoyo:!1,repeat:null,easing:null,stopAngle:null,spins:null,clearTheCanvas:null,callbackFinished:null,callbackBefore:null,callbackAfter:null,callbackSound:null,soundTrigger:"segment"};for(var i in n)null!=e&&"undefined"!==typeof e[i]?this[i]=e[i]:this[i]=n[i];if(null!=e)for(var a in e)"undefined"===typeof this[a]&&(this[a]=e[a])})),ft=function(){function t(e){Object(ht.a)(this,t);var n={size:null,text:"",fillStyle:null,strokeStyle:null,lineWidth:null,textFontFamily:null,textFontSize:null,textFontWeight:null,textOrientation:null,textAlignment:null,textDirection:null,textMargin:null,textFillStyle:null,textStrokeStyle:null,textLineWidth:null,image:null,imageDirection:null,imgData:null};for(var i in n)null!=e&&"undefined"!==typeof e[i]?this[i]=e[i]:this[i]=n[i];if(null!=e)for(var a in e)"undefined"===typeof this[a]&&(this[a]=e[a]);this.startAngle=0,this.endAngle=0}return Object(ut.a)(t,[{key:"changeImage",value:function(t,e){this.image=t,this.imgData=null,e&&(this.imageDirection=e),vt=!1,this.imgData=new Image,this.imgData.onload=Ot,this.imgData.src=this.image}}]),t}(),bt=Object(ut.a)((function t(e){Object(ht.a)(this,t);var n={display:!1,strokeStyle:"red",lineWidth:3};for(var i in n)null!=e&&"undefined"!==typeof e[i]?this[i]=e[i]:this[i]=n[i]}));function pt(){if(yt){!1!==yt.animation.clearTheCanvas&&yt.ctx.clearRect(0,0,yt.canvas.width,yt.canvas.height);var t=yt.animation.callbackBefore,e=yt.animation.callbackAfter;null!=t&&t(),yt.draw(!1),null!=e&&e(),yt.animation.callbackSound&&function(){!1===yt.hasOwnProperty("_lastSoundTriggerNumber")&&(yt._lastSoundTriggerNumber=0);var t=yt.animation.callbackSound,e=0;e="pin"===yt.animation.soundTrigger?yt.getCurrentPinNumber():yt.getIndicatedSegmentNumber();e!==yt._lastSoundTriggerNumber&&(t(),yt._lastSoundTriggerNumber=e)}()}}var yt=null;function jt(t){if(!1!==t){var e=yt.animation.callbackFinished;null!=e&&e(yt.getIndicatedSegment())}}var vt=!1;function Ot(){if(!1===vt){for(var t=0,e=1;e<=yt.numSegments;e++)null!=yt.segments[e].imgData&&yt.segments[e].imgData.height&&t++;t===yt.numSegments&&(vt=!0,yt.draw())}}var St,At,wt,kt,Tt,Rt=function(t,e){return{outerRadius:212,innerRadius:75,textFontSize:24,textOrientation:"horizontal",textAlignment:"outer",numSegments:16,segments:[{fillStyle:"#ee1c24",text:"$".concat((e+2).toFixed(2)),value:2},{fillStyle:"#3cb878",text:"$".concat((e+1.7).toFixed(2)),value:1.7},{fillStyle:"#f6989d",text:"$".concat((e+.7).toFixed(2)),value:.7},{fillStyle:"#00aef0",text:"$".concat((e+.5).toFixed(2)),value:.5},{fillStyle:"#f26522",text:"$".concat((e+.1).toFixed(2)),value:.1},{fillStyle:"#e70697",text:"$".concat((e+1.9).toFixed(2)),value:1.9},{fillStyle:"#f6989d",text:"$".concat((e+1.3).toFixed(2)),value:1.3},{fillStyle:"#3cb878",text:"$".concat((e+1.8).toFixed(2)),value:1.8},{fillStyle:"#f26522",text:"$".concat((e+1.2).toFixed(2)),value:1.2},{fillStyle:"#fff200",text:"$".concat((e+1.6).toFixed(2)),value:1.6},{fillStyle:"#00aef0",text:"$".concat((e+1.5).toFixed(2)),value:1.5},{fillStyle:"#f6989d",text:"$".concat((e+1.4).toFixed(2)),value:1.4},{fillStyle:"#f26522",text:"$".concat((e+.8).toFixed(2)),value:.8},{fillStyle:"#3cb878",text:"$".concat((e+.6).toFixed(2)),value:.6},{fillStyle:"#a186be",text:"$".concat((e+.9).toFixed(2)),value:.9},{fillStyle:"#fff200",text:"$".concat((e+1.1).toFixed(2)),value:1.1}],animation:{type:"spinToStop",duration:10,spins:3,callbackFinished:t,soundTrigger:"pin"},pins:{number:16,fillStyle:"silver",outerRadius:4}}},Ct=d.a.div(St||(St=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: top;\n    align-items: center;\n    text-align: center;\n    width: 60%;\n    height: 700px;\n    padding-bottom: 60px;\n"])));function Ft(){var t=Object(y.c)(M),e=Object(y.c)(K),n=Object(i.useState)(!1),a=Object(l.a)(n,2),s=a[0],r=a[1],o=Object(i.useState)(0),c=Object(l.a)(o,2),h=c[0],u=c[1],d=t-e,g=Object(y.c)(I),m=Object(y.c)(J),x=Object(i.useRef)(null),f=function(t){u(t.value)};return Object(i.useEffect)((function(){g>=m&&setTimeout((function(){x.current=new gt(Rt(f,Math.abs(d)),!0)}),5)}),[d]),h>0?Object(Q.jsxs)(Ct,{children:[Object(Q.jsx)("h2",{children:"Game over!"}),Object(Q.jsxs)("p",{children:["Lucky you, you\u2019ve just won $",h+Math.abs(d)," at the wheel of fortune! Your net final outcomes in the experiment are thus $",h,".",Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),"Note that you will further receive $5 (the show-up reward), and your earnings at the pre-game test.",Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),"Thanks again for your participation! The experimenter is going to proceed to the payment procedure very soon, thanks for your patience."]})]}):Object(Q.jsxs)(Ct,{children:[Object(Q.jsx)("h2",{children:"Game over!"}),d>0&&Object(Q.jsxs)("p",{children:["Your net accumulated outcomes in the task are $",t,", and the threshold has been set at $",e,", so your earnings are $",d,".",Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),"Congratulations! The experimenter is going to proceed to the payment procedure very soon, thanks for your patience."]}),d<=0&&Object(Q.jsxs)("p",{children:["Your net accumulated outcomes in the task are -$",Math.abs(d),".",Object(Q.jsx)("br",{}),Object(Q.jsx)("br",{}),"Sorry! However, to thank you for your participation in this research project, we wish to invite you to participate in a wheel of fortune lottery in which you can only win money",Object(Q.jsx)("div",{className:"container",children:Object(Q.jsx)("div",{className:"the_wheel",children:Object(Q.jsx)("canvas",{id:"canvas",height:434,width:434,className:"the_canvas",children:Object(Q.jsx)("p",{style:{color:"white"},align:"center",children:"Sorry, your browser doesn't support canvas. Please try another."})})})}),Object(Q.jsx)(p.a,{variant:"contained",style:{backgroundColor:"#00A8F3",padding:"8px 15px",fontSize:"18px",color:"black"},disabled:s,onClick:function(){x.current.startAnimation(),r(!0)},children:"Spin"})]})]})}d.a.div(At||(At=Object(o.a)(["\n    display: grid;\n    justify-content: center;\n    align-items: center;\n    grid-template-columns: 5fr 11fr;\n    width: 95%;\n    // border: black 1px solid;\n"])));var Dt=d.a.div(wt||(wt=Object(o.a)(["\n    background-image: linear-gradient(#eee, #fff);\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"])));d.a.div(kt||(kt=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: top;\n    align-items: center;\n    // border: black 1px solid;\n"]))),d.a.div(Tt||(Tt=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding: 0;\n"])));function Yt(){var t=Object(y.b)(),e=Object(y.c)(I),n=Object(y.c)(J),a=Object(y.c)(V),s=Object(y.c)((function(t){return t.gameSetting}));return Object(i.useEffect)((function(){e>=n&&new gt(Rt(69),!0)})),Object(Q.jsxs)(Q.Fragment,{children:[!a&&Object(Q.jsxs)(m.a,{height:"100%",margin:3,alignItems:"center",children:[Object(Q.jsx)(p.a,{variant:"contained",onClick:function(){t(C(s))},children:"Reset"}),Object(Q.jsxs)("h2",{children:["Trial: ",e,"/",n]}),Object(Q.jsx)(ct,{}),Object(Q.jsxs)(g.a,{height:"100%",direction:"row",container:!0,children:[Object(Q.jsx)(g.a,{item:!0,xs:5,children:Object(Q.jsx)(it,{})}),Object(Q.jsx)(g.a,{item:!0,xs:7,children:Object(Q.jsx)(ot,{})})]})]}),a&&Object(Q.jsx)(Dt,{children:Object(Q.jsx)(Ft,{})})]})}var Xt=n(248),Mt={title:"Configure random system",description:" ",type:"object",required:["dangerZoneChance","aberrationChance","costToSwitch"],properties:{dangerZoneChance:{type:"string",title:"prob_dangerous Probability that speed departs from threshold value (i.e., we enter the \u201cdangerous zone preceding a regime shift)",default:"1/6"},lambda:{type:"string",title:"\u03bb intensity",default:"1/3"},aberrationChance:{type:"string",title:"prob_aberration Probability of occurrence of an aberration",default:"1/6"},delta:{type:"integer",title:"\u2206 change_speed",default:100},costToSwitch:{type:"integer",title:"Cost to switch the other screen",default:6},outcomeShowTime:{type:"integer",title:"Outcome stage",default:2},afkTimeout:{type:"integer",title:"Decision stage",default:2},afkTimeoutCost:{type:"integer",title:"Cost if missed trial",default:1},numberOfTrials:{type:"integer",title:"Number of trials T",default:400},thresholdValue:{type:"integer",title:"Threshold value for payment rule",default:100}}};function It(){Object(y.c)(M);var t=Object(i.useRef)(Object(y.c)((function(t){return t.gameSetting}))),e=Object(i.useRef)(Object(y.c)((function(t){return t.gameData}))),n=Object(y.b)(),a=e.current._dangerZoneSpeedReset.reduce((function(t,e){return t+e})),s=e.current._dangerZoneSpeedReset.map((function(t){return(t/a).toFixed(2)}));return Object(Q.jsxs)("div",{children:[Object(Q.jsx)(Xt.a,{schema:Mt,formData:t.current,onChange:function(e){return t.current=e.formData},onSubmit:function(t,e){var i=t.formData;n(L(i))}}),"Number of abberations ",e.current._numAbberations," / ",t.current.numberOfTrials," = ",e.current._numAbberations/t.current.numberOfTrials,Object(Q.jsx)("br",{}),"Times entered Dangerzone ",e.current._numDangerzone," / ",t.current.numberOfTrials," = ",e.current._numDangerzone/t.current.numberOfTrials,Object(Q.jsx)("br",{}),"Trial n Dangerzone reset ",JSON.stringify(e.current._dangerZoneSpeedReset),Object(Q.jsx)("br",{}),"Trial n Dangerzone reset % chance ",JSON.stringify(s),Object(Q.jsx)("br",{}),"Trial n Dangerzone reset expected ",JSON.stringify(e.current._dangerZoneResetCalc)]},"key")}var Nt=n(6),Wt=n(249),zt=n(504),Bt=n(513),Vt=n(507),Pt=Object(Wt.a)(),Et=Object(Vt.a)((function(t){}));var Lt=function(){return Et(),Object(Q.jsx)(zt.a,{injectFirst:!0,children:Object(Q.jsx)(Bt.a,{theme:Pt,children:Object(Q.jsx)(Nt.a,{})})})},Ut=n(17),Gt=n(27);function Zt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(e){return setTimeout((function(){return e({data:t})}),500)}))}var qt=Object(j.b)("counter/fetchCount",function(){var t=Object(Gt.a)(Object(Ut.a)().mark((function t(e){var n;return Object(Ut.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zt(e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Jt=Object(j.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(t){t.value+=1},decrement:function(t){t.value-=1},incrementByAmount:function(t,e){t.value+=e.payload}},extraReducers:function(t){t.addCase(qt.pending,(function(t){t.status="loading"})).addCase(qt.fulfilled,(function(t,e){t.status="idle",t.value+=e.payload}))}}),Kt=Jt.actions,Ht=(Kt.increment,Kt.decrement,Kt.incrementByAmount,Jt.reducer),Qt=Object(j.a)({reducer:{counter:Ht,gameData:P,gameSetting:H}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _t=n(76);r.a.render(Object(Q.jsx)(a.a.StrictMode,{children:Object(Q.jsx)(y.a,{store:Qt,children:Object(Q.jsxs)(_t.a,{basename:"/",children:[Object(Q.jsx)("nav",{children:Object(Q.jsxs)("ul",{children:[Object(Q.jsx)("li",{children:Object(Q.jsx)(_t.b,{to:"trial",children:"Trial"})}),Object(Q.jsx)("li",{children:Object(Q.jsx)(_t.b,{to:"config",children:"Config"})})]})}),Object(Q.jsxs)(Nt.d,{children:[Object(Q.jsx)(Nt.b,{path:"trial",element:Object(Q.jsx)(Yt,{})}),Object(Q.jsx)(Nt.b,{path:"config",element:Object(Q.jsx)(It,{})})]}),Object(Q.jsx)(Lt,{})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[462,1,2]]]);
//# sourceMappingURL=main.c35832e0.chunk.js.map